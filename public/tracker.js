!function(){"use strict";const e="https://h6e152-3000.preview.csb.app/api/collect";async function t(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}const n=function(){const e=function(){const e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}(),n=function(){const e={screenWidth:window.screen.width,screenHeight:window.screen.height,platform:window.navigator.platform,language:window.navigator.language};return t(JSON.stringify(e))}();return t(e+n)}();const o=window.location.pathname,i=window.navigator.language,r=function(){const e={},t=new URL(window.location.href);for(let[n,o]of t.searchParams)n.startsWith("utm_")&&(e[n]=o);return e}(),a=`${window.screen.width} X ${window.screen.height}`,c=document.referrer;function s(t,o,s,d){const u={audience_id:t,eventType:o,eventData:s||{},isConversion:d||!1,deviceType:/Mobi|Android/i.test(navigator.userAgent)?"mobile":"desktop",browser:function(){const e=navigator.userAgent;let t="unknown",n="unknown";return/firefox/i.test(e)?(t="firefox",n=e.match(/firefox\/(\d+)/i)[1]):/chrome/i.test(e)?(t="chrome",n=e.match(/chrome\/(\d+)/i)[1]):/safari/i.test(e)?(t="safari",n=e.match(/version\/(\d+)/i)[1]):/trident/i.test(e)&&(t="ie",n=e.match(/rv:(\d+)/i)[1]),`${t} ${n}`}(),language:i,screen:a,utmParams:r,referrer:c,session_id:n,timestamp:(new Date).toISOString()};fetch(e,{method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}})}function d(e){s("page_view",{pageName:e})}if(!window.ae){const e=e=>s(e);e.productView=function(e){s("product_view",{productId:e})},e.purchaseEvent=function(e,t){s("purchase",{orderId:e,totalValue:t},!0)},e.pageViewEvent=d,e.customEvent=function(e,t,n,o=!1){s(e,"custom",{eventData:t,eventValue:n},o)},window.ae=e}document.addEventListener("readystatechange",(function e(){"complete"===document.readyState&&(d(o),function(){const e=5;let t=5,n=0;document.addEventListener("click",(o=>{const i=Date.now();i-n<1e3?(t++,t>=e&&(s("rage_click",{numClicks:t}),t=0)):t=0,n=i}))}(),function(){const e=5;document.addEventListener("click",(t=>{const n=t.target,o=n.getBoundingClientRect(),i=t.clientX-o.left,r=t.clientY-o.top;(i<-e||r<-e||i>o.width+e||r>o.height+e)&&s("dead_click",{tag:n.tagName,x:t.clientX,y:t.clientY})}))}(),document.removeEventListener("readystatechange",e))}))}();
